{"version":3,"file":"tetris.min.js","sources":["../js/tetris.js"],"names":["angular","module","run","$translate","$log","realTimeService","randomService","createCanvasController","canvas","init","y","rowsNum","board","x","colsNum","gotStartMatch","params","yourPlayerIndex","playersInfo","matchController","isSinglePlayer","length","pieceCreatedNum","allScores","index","createPiece","startMatchTime","Date","getTime","stopCountDownInterval","countDownInterval","setInterval","drawCountDown","gotMessage","fromPlayerIndex","messageString","message","messageObject","fromJson","s","gotEndMatch","endMatchScores","isGameOngoing","stopDrawInterval","sendMessage","isReliable","toJson","p","sendReliableMessage","sendUnreliableMessage","lostMatch","endMatch","randomFromTo","shapes","temp","shape","i","piece","valid","offsetX","offsetY","newShape","tick","freeze","clearLines","setDrawInterval","rowFilled","document","getElementById","play","yy","xx","rotate","copy","intervalMillis","Math","max","drawEveryMilliseconds","floor","drawInterval","updateAndDraw","clearInterval","drawCell","color","ctx","fillStyle","fillRect","cellWidth","cellHeight","strokeStyle","strokeRect","draw","canvasWidth","canvasHeight","font","playerColor","textBaseline","msg","instant","toUpperCase","score","cordX","cordY","fillText","shapeColor","secondsFromStart","secondsToReallyStart","yourColor","keyPressed","dir","rotated","processKey","e","key","which","processTouch","preventDefault","touchobj","targetTouches","lastX","pageX","lastY","pageY","distX","distY","swipedir","absDistX","abs","absDistY","info","id","getContext","addEventListener","config","$translateProvider"],"mappings":"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"}