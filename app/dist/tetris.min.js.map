{"version":3,"file":"tetris.min.js","sources":["../js/tetris.js"],"names":["angular","module","run","$rootScope","$translate","$log","realTimeService","randomService","createCanvasController","canvas","createBoard","newBoard","y","rowsNum","x","colsNum","gotStartMatch","params","fpsmeter","window","FPSMeter","graph","theme","left","yourPlayerIndex","playersInfo","matchController","isSinglePlayer","length","isSinglePlayerGlobal","totalPauseTime","pauseStartTime","pieceCreatedNum","allScores","allBoards","index","board","createPiece","startMatchTime","Date","getTime","stopCountDownInterval","countDownInterval","requestAnimationFrame","drawCountDown","gotMessage","fromPlayerIndex","messageString","message","messageObject","fromJson","s","b","gotEndMatch","endMatchScores","stopDrawInterval","isGameOngoing","sendMessage","isReliable","toJson","p","sendReliableMessage","sendUnreliableMessage","lostMatch","endMatch","randomFromTo","shapes","temp","shape","i","piece","valid","offsetX","offsetY","newShape","tick","freeze","clearLines","setDrawInterval","rowFilled","yy","xx","rotate","copy","intervalMillis","Math","max","drawEveryMilliseconds","floor","cancelAnimationFrame","drawInterval","drawCell","color","ctx","fillStyle","fillRect","cellWidth","cellHeight","strokeStyle","strokeRect","draw","canvasWidth","canvasHeight","font","playerColor","textBaseline","msg","toUpperCase","score","cordX","cordY","fillText","shapeColor","tickStart","secondsFromStart","isHelpModalShown","secondsToReallyStart","yourColor","updateAndDraw","timestamp","startTime","timelapse","keyPressed","dir","rotated","processKey","e","key","which","processTouch","preventDefault","touchobj","targetTouches","lastX","pageX","lastY","pageY","distX","distY","swipedir","absDistX","abs","absDistY","info","id","getContext","document","addEventListener","carouselClick","carouselClose","init"],"mappings":"AAAAA,QAAQC,OAAO,SAAU,UAAW,iBACjCC,KAAK,aAAc,aAAc,OAAQ,kBAAmB,gBACzD,SAAUC,EAAYC,EAAYC,EAAMC,EAAiBC,GAC/D,YAuCA,SAASC,GAAuBC,GAyC9B,QAASC,KAEP,IAAK,GADDC,MACKC,EAAI,EAAOC,EAAJD,IAAeA,EAAG,CAChCD,EAASC,KACT,KAAK,GAAIE,GAAI,EAAOC,EAAJD,IAAeA,EAC7BH,EAASC,GAAGE,GAAK,EAGrB,MAAOH,GAKT,QAASK,GAAcC,GACrBC,EAAW,GAAIC,QAAOC,UAAUC,OAAO,EAAMC,MAAO,OAAQC,KAAM,QAClEC,EAAkBP,EAAOO,gBACzBC,EAAcR,EAAOQ,YACrBC,EAAkBT,EAAOS,gBAEzBC,EAAwC,IAAvBF,EAAYG,OACzBD,IACFE,EAAuBF,EACvBG,EAAiB,EACjBC,EAAiB,GAGnBC,EAAkB,EAClBC,KACAC,IACA,KAAK,GAAIC,GAAQ,EAAGA,EAAQV,EAAYG,OAAQO,IAC9CD,EAAUC,GAASzB,IACnBuB,EAAUE,GAAS,CAErBC,GAAQF,EAAUV,GAClBa,IACAC,GAAiB,GAAIC,OAAOC,UAC5BC,IACAC,EAAoBC,sBAAsBC,GAI5C,QAASC,GAAW5B,GAClB,GAAI6B,GAAkB7B,EAAO6B,gBACzBC,EAAgB9B,EAAO+B,QAEvBC,EAAgBjD,QAAQkD,SAASH,EACrCd,GAAUa,GAAmBG,EAAcE,EAC3CjB,EAAUY,GAAmBG,EAAcG,EAM7C,QAASC,GAAYC,GAEnBC,IACAtB,EAAYqB,EACZE,GAAgB,EAGlB,QAASC,GAAYC,GACnB,IAAI/B,GAAmB6B,EAAvB,CAGA,GAAIT,GAAgB/C,QAAQ2D,QACvBC,EAAG5B,EAAiBmB,EAAGlB,EAAUT,GAAkB4B,EAAGhB,GACvDsB,GACFhC,EAAgBmC,oBAAoBd,GAEpCrB,EAAgBoC,sBAAsBf,IAI1C,QAASgB,KACFP,IAGLA,GAAgB,EAChB9B,EAAgBsC,SAAS/B,IAI3B,QAASI,KAKP,IAAK,GAJDF,GAAQ5B,EAAc0D,aAA+B,EAAlBjC,EAAqB,EAAGkC,EAAOtC,QAClEuC,EAAOD,EAAO/B,GACdiC,KAEKxD,EAAI,EAAO,EAAJA,IAASA,EAAG,CAC1BwD,EAAMxD,KACN,KAAK,GAAIE,GAAI,EAAO,EAAJA,IAASA,EAAG,CAC1B,GAAIuD,GAAI,EAAIzD,EAAIE,CAEdsD,GAAMxD,GAAGE,GADY,mBAAZqD,GAAKE,IAAsBF,EAAKE,GAC3B,EAEA,GAKpBC,EAAMF,MAAQA,EACdE,EAAMxD,EAAI,EACVwD,EAAM1D,EAAc,IAAVuB,EAAc,GAAK,EAC7BmC,EAAMnC,MAAQA,EAEdH,IAKF,QAASuC,GAAMC,EAASC,EAASC,GAC/BF,EAAUA,GAAW,EACrBC,EAAUA,GAAW,EACrBD,EAAUF,EAAMxD,EAAI0D,EACpBC,EAAUH,EAAM1D,EAAI6D,EACpBC,EAAWA,GAAYJ,EAAMF,KAG7B,KAAK,GAFDjC,GAAQmC,EAAMnC,MAETvB,EAAI,EAAO,EAAJA,IAASA,EACvB,IAAK,GAAIE,GAAI,EAAO,EAAJA,IAASA,EACvB,GAAI4D,EAAS9D,GAAGE,GAAI,CAClB,GAAkC,mBAAvBsB,GAAMxB,EAAI6D,IAC0B,mBAApCrC,GAAMxB,EAAI6D,GAAS3D,EAAI0D,GAChC,OAAO,CAEP,IAAIpC,EAAMxB,EAAI6D,GAAS3D,EAAI0D,GAIzB,OAHc,IAAVrC,GAA2B,IAAZsC,GAA0B,IAATtC,GAA0B,IAAZsC,IAChDV,KAEK,EAMjB,OAAO,EAGT,QAASY,KACP,GAAIJ,EAAM,EAAG,KACTD,EAAM1D,MACH,CACL,IAAI4C,EACF,MAEFoB,KACAC,IACAxC,IACAqB,IAAa,EACboB,KAKJ,QAASF,KACP,IAAK,GAAIhE,GAAI,EAAO,EAAJA,IAASA,EACvB,IAAK,GAAIE,GAAI,EAAO,EAAJA,IAASA,EACnBwD,EAAMF,MAAMxD,GAAGE,KACjBsB,EAAMxB,EAAI0D,EAAM1D,GAAGE,EAAIwD,EAAMxD,GAAKwD,EAAMF,MAAMxD,GAAGE,IAOzD,QAAS+D,KACP,IAAK,GAAIjE,GAAIC,EAAU,EAAGD,GAAK,IAAKA,EAAG,CAErC,IAAM,GADFmE,IAAY,EACNjE,EAAI,EAAOC,EAAJD,IAAeA,EAC9B,GAAoB,IAAhBsB,EAAMxB,GAAGE,GAAU,CACrBiE,GAAY,CACZ,OAGJ,GAAIA,EAAW,CACb9C,EAAUT,IACV,KAAK,GAAIwD,GAAKpE,EAAGoE,EAAK,IAAKA,EACzB,IAAK,GAAIC,GAAK,EAAQlE,EAALkE,IAAgBA,EAC/B7C,EAAM4C,GAAIC,GAAM7C,EAAM4C,EAAK,GAAGC,KAGhCrE,IAMR,QAASsE,GAAOd,EAAOjC,GACrB,GAAc,IAAVA,EACF,MAAOnC,SAAQmF,KAAKf,EAEtB,IACItD,GAAGF,EADH8D,IAEJ,IAAc,IAAVvC,EACF,IAAKvB,EAAI,EAAO,EAAJA,IAASA,EAEnB,IADA8D,EAAS9D,MACJE,EAAI,EAAO,EAAJA,IAASA,EACnB4D,EAAS9D,GAAGE,GAAKsD,EAAM,EAAItD,GAAGF,OAIlC,KAAKA,EAAI,EAAO,EAAJA,IAASA,EAEnB,IADA8D,EAAS9D,MACJE,EAAI,EAAO,EAAJA,IAASA,EACnB4D,EAAS9D,GAAGE,GAAKsD,EAAM,EAAItD,GAAGF,EAIpC,OAAO8D,GAUT,QAASI,KAGPM,GAAiBC,KAAKC,IAAI,IAAKC,EAAwB,GAAKF,KAAKG,MAAMxD,EAAkB,KAI3F,QAASuB,KACPkC,qBAAqBC,GAIvB,QAASjD,KACPgD,qBAAqB/C,GAIvB,QAASiD,GAAS7E,EAAGF,EAAGgF,GACtBC,GAAIC,UAAYF,EAChBC,GAAIE,SAASjF,EAAEkF,EAAWpF,EAAEqF,EAAYD,EAAU,EAAGC,EAAW,GAChEJ,GAAIK,YAAc,QAClBL,GAAIM,WAAWrF,EAAEkF,EAAWpF,EAAEqF,EAAYD,EAAU,EAAGC,EAAW,GAGpE,QAASG,KAEPP,GAAIC,UAAY,QAChBD,GAAIE,SAAS,EAAG,EAAGM,EAAaC,GAChCT,GAAIK,YAAc,QAClBL,GAAIM,WAAW,EAAG,EAAGE,EAAaC,EAGlC,KAAK,GAAIjC,GAAI,EAAGA,EAAIpC,EAAUL,OAAQyC,IAAK,CACzCwB,GAAIU,KAAO,iBACX,IAAIX,GAAQY,EAAYnC,EACxBwB,IAAIC,UAAYF,EAChBC,GAAIY,aAAe,KACnB,IAAIC,GAAMtG,EAAW,kBAChBwF,MAAOxF,EAAWwF,EAAMe,eAAgBC,MAAO,GAAK3E,EAAUoC,KAC/DwC,EAAQ,EAAIxC,EAAI,EAAIgC,GAAe5E,EAAYG,OAAS,EAAI,EAAIH,EAAYG,QAC5EkF,EAAQ,EAAwB,GAApBzB,KAAKG,MAAMnB,EAAI,EAC/BwB,IAAIkB,SAASL,EAAKG,EAAOC,GAG3B,GAAIhG,GAAGF,CAEP,KAAKE,EAAI,EAAOC,EAAJD,IAAeA,EACzB,IAAKF,EAAI,EAAOC,EAAJD,IAAeA,EACrBwB,EAAMxB,GAAGE,IACX6E,EAAS7E,EAAGF,EAAG4F,EAAYhF,GAMjC,KAAKZ,EAAI,EAAO,EAAJA,IAASA,EACnB,IAAKE,EAAI,EAAO,EAAJA,IAASA,EACfwD,EAAMF,MAAMxD,GAAGE,IACjB6E,EAASrB,EAAMxD,EAAIA,EAAGwD,EAAM1D,EAAIA,EAAGoG,EAAW1C,EAAMnC,QAO5D,QAASS,KACP1B,EAAS+F,WACT,IAAIC,GAAmB,CAMvB,IAJEA,EAAmB7B,KAAKG,MADtBrF,EAAWgH,kBACkBpF,EAAiBD,EAAiBQ,GAAkB,MAEpD,GAAIC,OAAOC,UAAYV,EAAiBQ,GAAkB,KAEpE,EAAnB4E,EAAsB,CAExBd,GAEA,IAAIgB,GAAuB,EAAIF,EAG3BG,EAAYb,EAAYhF,EAC5BqE,IAAIC,UAAYuB,EAChBxB,GAAIU,KAAO,kBACXV,GAAIkB,SAAS,GAAKK,EAAsBf,EAAc,EAAGC,EAAe,GAExET,GAAIU,KAAO,iBACX,IAAIG,GAAMtG,EAAW,uBACrByF,IAAIkB,SAASL,EAAK,GAAIJ,EAAe,EAAI,IACzCI,EAAMtG,EAAW,cACZwF,MAAOxF,EAAWiH,EAAUV,iBACjCd,GAAIkB,SAASL,EAAKL,EAAc,EAAI,GAAKC,EAAe,EAAI,GAC5DpF,EAASyD,OACTjC,EAAqBC,sBAAsBC,OAE3CY,IAAgB,EAChBf,IACAqC,IACAY,EAAe/C,sBAAsB2E,GAMzC,QAASA,GAAcC,GAErB,GADArG,EAAS+F,YACJzD,EAAL,CAGgB,EAAZgE,KACFA,GAAYD,EAGd,IAAIE,GAAYF,EAAYC,EAC5B9D,KAAa,EACT+D,GAAarC,KACfoC,GAAYD,EACPpH,EAAWgH,kBACdxC,IAEFlB,EAAYC,KAEd0C,IACAlF,EAASyD,OACTe,EAAe/C,sBAAsB2E,IAIvC,QAASI,GAAWC,GAClB,OAAQA,GACN,IAAK,OACCpD,EAAM,OACND,EAAMxD,CAEV,MACF,KAAK,QACCyD,EAAM,MACND,EAAMxD,CAEV,MACF,KAAK,OACCyD,EAAM,EAAG,MACTD,EAAM1D,CAEV,MACF,KAAK,KACH,GAAIgH,GAAU1C,EAAOZ,EAAMF,MAAOE,EAAMnC,MACpCoC,GAAM,EAAG,EAAGqD,KACdtD,EAAMF,MAAQwD,IAOtB,QAASC,GAAWC,GAClB,GAAIC,GAAMD,EAAEE,MACRL,EAAc,KAARI,EAAa,OACT,KAARA,EAAa,KACL,KAARA,EAAa,QACL,KAARA,EAAa,OAAS,IAChB,QAARJ,GAAgBnE,IAAkBrD,EAAWgH,mBAC/CO,EAAWC,GACXvB,KAMJ,QAAS6B,GAAaH,GACpB,GAAKtE,EAAL,CAGAsE,EAAEI,gBACF,IAAIC,GAAWL,EAAEM,cAAc,EAC/B,IAAKD,EAAL,CAGA,GAAc,OAAVE,GAGF,MAFAA,IAAQF,EAASG,WACjBC,GAAQJ,EAASK,MAGnB,IAAIC,GAAQN,EAASG,MAAQD,GACzBK,EAAQP,EAASK,MAAQD,GACzBI,EAAW,KACXC,EAAWvD,KAAKwD,IAAIJ,GACpBK,EAAWzD,KAAKwD,IAAIH,IACpBE,GAAY,IAAME,GAAY,MAChCT,GAAQF,EAASG,MACjBC,GAAQJ,EAASK,MAEfG,EADEC,EAAWE,EACM,EAARL,EAAY,OAAS,QAEb,EAARC,EAAY,KAAO,OAEhChB,EAAWiB,GACXvC,OArcJ/F,EAAK0I,KAAK,wCAA0CtI,EAAOuI,GAC3D,IAQI/G,GACAC,EACAF,EACAI,EAwBAE,EAEApB,EAaAwB,EA0MAgD,EA5PAlC,GAAgB,EAChB7B,GAAiB,EACjBF,EAAc,KACdD,EAAkB,KAClBE,EAAkB,KASlB4C,KAIAJ,IAAa,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,IACT,EAAG,EAAG,EAAG,EACT,IACA,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,IACN,EAAG,EAAG,EAAG,EACT,EAAG,IACH,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,IACN,EAAG,EAAG,EAAG,EACT,EAAG,IACH,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,IAEnB8C,GACF,OAAQ,SAAU,OAAQ,SAAU,MAAO,QAAS,UAyNlDnB,GAAMpF,EAAOwI,WAAW,MAGxBzB,GAAY,GACZpC,GAAiBG,CAYrBpF,GAAWoD,iBAAmBA,CA2F9B,IAAIG,KAAa,CAwBjBvD,GAAWmH,cAAgBA,EAwC3B4B,SAASC,iBAAiB,UAAWtB,GAAY,EAEjD,IAAIQ,IAAQ,KAAME,GAAQ,IA4C1B,OAZA9H,GAAO0I,iBAAiB,aAAc,SAASrB,GAC7CO,GAAQ,KACRE,GAAQ,KACRN,EAAaH,KACZ,GACHrH,EAAO0I,iBAAiB,YAAa,SAASrB,GAC5CG,EAAaH,KACZ,GACHrH,EAAO0I,iBAAiB,WAAY,SAASrB,GAC3CG,EAAaH,KACZ,IAGD9G,cAAeA,EACf6B,WAAYA,EACZQ,YAAaA,GA5fjB,GAAIgD,GAAc,IACdC,EAAe,IAGfN,EAAY,GACZC,EAAa,GACblF,EAAUsF,EAAcL,EACxBnF,EAAUyF,EAAeL,EACzBV,EAAwB,GAE5BpF,GAAWgH,kBAAmB,CAC9B,IAAItF,IAAuB,EACvBC,EAAiB,EACjBC,EAAiB,CAErB5B,GAAWiJ,cAAgB,WACrBvH,IACF1B,EAAWgH,kBAAmB,EAC9BpF,GAAiB,GAAIQ,OAAOC,YAIhCrC,EAAWkJ,cAAgB,WACzBlJ,EAAWgH,kBAAmB,EAC9BrF,IAAkB,GAAIS,OAAOC,UAAYT,EAO3C,IAAIyE,IACF,OAAQ,MAAO,QAAS,SACxB,OAAQ,SAAU,SAAU,SA+d9BlG,GAAgBgJ,MACd9I,uBAAwBA,EACxB6F,YAAaA,EACbC,aAAcA"}